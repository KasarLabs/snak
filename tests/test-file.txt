
> @snakagent/test@1.0.0 test:file-stress /home/simo/Bureau/IA/snak/tests
> tsx src/file-test/file-upload-stress-v2.ts

File Upload Stress Test v2 - Job Queue System

Testing: Concurrent file uploads with job queue monitoring

GET /api/agents/health
Success: 200 /api/agents/health

Testing 1 User: 1 files with 1 different users

Testing 1 files of ~10KB each with 1 different users
Creating 1 users and agents...
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 1 agents successfully
Starting concurrent uploads with 1 users...
POST /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 1 successful, 0 failed
Waiting for 1 jobs to complete...
GET /api/jobs/status/183
Success: 200 /api/jobs/status/183
GET /api/jobs/status/183
Success: 200 /api/jobs/status/183
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 1 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 1

1 User - 10KB files:
  • Time: 1120ms | Throughput: 8.93 KB/s
  • Average time per file: 1120.00ms
  • Success: 1/1 | Files stored: 1
  • Queue file-ingestion: w=0 a=0 c=183 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 1 files of ~75KB each with 1 different users
Creating 1 users and agents...
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 1 agents successfully
Starting concurrent uploads with 1 users...
POST /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 1 successful, 0 failed
Waiting for 1 jobs to complete...
GET /api/jobs/status/184
Success: 200 /api/jobs/status/184
GET /api/jobs/status/184
Success: 200 /api/jobs/status/184
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 1 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 1

1 User - 75KB files:
  • Time: 5032ms | Throughput: 14.90 KB/s
  • Average time per file: 5032.00ms
  • Success: 1/1 | Files stored: 1
  • Queue file-ingestion: w=0 a=0 c=184 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 1 files of ~150KB each with 1 different users
Creating 1 users and agents...
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 1 agents successfully
Starting concurrent uploads with 1 users...
POST /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 1 successful, 0 failed
Waiting for 1 jobs to complete...
GET /api/jobs/status/185
Success: 200 /api/jobs/status/185
GET /api/jobs/status/185
Success: 200 /api/jobs/status/185
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 1 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 1

1 User - 150KB files:
  • Time: 6206ms | Throughput: 24.17 KB/s
  • Average time per file: 6206.00ms
  • Success: 1/1 | Files stored: 1
  • Queue file-ingestion: w=0 a=0 c=185 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 1 files of ~350KB each with 1 different users
Creating 1 users and agents...
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 1 agents successfully
Starting concurrent uploads with 1 users...
POST /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 1 successful, 0 failed
Waiting for 1 jobs to complete...
GET /api/jobs/status/186
Success: 200 /api/jobs/status/186
GET /api/jobs/status/186
Success: 200 /api/jobs/status/186
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 1 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 1

1 User - 350KB files:
  • Time: 13831ms | Throughput: 25.31 KB/s
  • Average time per file: 13831.00ms
  • Success: 1/1 | Files stored: 1
  • Queue file-ingestion: w=0 a=0 c=186 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Cleaning up 4 agents...
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
  Success: Cleanup completed: 4 successful, 0 failed

Testing 3 Users: 3 files with 3 different users

Testing 3 files of ~10KB each with 3 different users
Creating 3 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 3 agents successfully
Starting concurrent uploads with 3 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 3 successful, 0 failed
Waiting for 3 jobs to complete...
GET /api/jobs/status/188
GET /api/jobs/status/187
GET /api/jobs/status/189
Success: 200 /api/jobs/status/187
Success: 200 /api/jobs/status/188
Success: 200 /api/jobs/status/189
GET /api/jobs/status/187
GET /api/jobs/status/188
GET /api/jobs/status/189
Success: 200 /api/jobs/status/187
POST /api/files/list
Success: 200 /api/jobs/status/189
Success: 200 /api/jobs/status/188
Success: 201 /api/files/list
GET /api/jobs/status/189
GET /api/jobs/status/188
Success: 200 /api/jobs/status/189
POST /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/188
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 3 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 3

3 Users - 10KB files:
  • Time: 2715ms | Throughput: 11.05 KB/s
  • Average time per file: 905.00ms
  • Success: 3/3 | Files stored: 3
  • Queue file-ingestion: w=0 a=0 c=189 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 3 files of ~75KB each with 3 different users
Creating 3 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 3 agents successfully
Starting concurrent uploads with 3 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 3 successful, 0 failed
Waiting for 3 jobs to complete...
GET /api/jobs/status/191
GET /api/jobs/status/190
GET /api/jobs/status/192
Success: 200 /api/jobs/status/190
Success: 200 /api/jobs/status/191
Success: 200 /api/jobs/status/192
GET /api/jobs/status/190
GET /api/jobs/status/191
GET /api/jobs/status/192
Success: 200 /api/jobs/status/190
POST /api/files/list
Success: 200 /api/jobs/status/191
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/192
GET /api/jobs/status/192
Success: 200 /api/jobs/status/192
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 3 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 3

3 Users - 75KB files:
  • Time: 15237ms | Throughput: 14.77 KB/s
  • Average time per file: 5079.00ms
  • Success: 3/3 | Files stored: 3
  • Queue file-ingestion: w=0 a=0 c=192 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 3 files of ~150KB each with 3 different users
Creating 3 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 3 agents successfully
Starting concurrent uploads with 3 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 3 successful, 0 failed
Waiting for 3 jobs to complete...
GET /api/jobs/status/193
GET /api/jobs/status/194
GET /api/jobs/status/195
Success: 200 /api/jobs/status/193
Success: 200 /api/jobs/status/194
Success: 200 /api/jobs/status/195
GET /api/jobs/status/193
GET /api/jobs/status/194
GET /api/jobs/status/195
Success: 200 /api/jobs/status/193
POST /api/files/list
Success: 200 /api/jobs/status/194
POST /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/195
Success: 201 /api/files/list
GET /api/jobs/status/195
Success: 200 /api/jobs/status/195
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 3 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 3

3 Users - 150KB files:
  • Time: 18983ms | Throughput: 23.71 KB/s
  • Average time per file: 6327.67ms
  • Success: 3/3 | Files stored: 3
  • Queue file-ingestion: w=0 a=0 c=195 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 3 files of ~350KB each with 3 different users
Creating 3 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 3 agents successfully
Starting concurrent uploads with 3 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 3 successful, 0 failed
Waiting for 3 jobs to complete...
GET /api/jobs/status/197
GET /api/jobs/status/196
GET /api/jobs/status/198
Success: 200 /api/jobs/status/197
GET /api/jobs/status/197
Success: 200 /api/jobs/status/196
Success: 200 /api/jobs/status/198
Success: 200 /api/jobs/status/197
GET /api/jobs/status/196
GET /api/jobs/status/198
GET /api/jobs/status/197
Success: 200 /api/jobs/status/196
POST /api/files/list
Success: 200 /api/jobs/status/197
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/198
GET /api/jobs/status/198
Success: 200 /api/jobs/status/198
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 3 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 3

3 Users - 350KB files:
  • Time: 42142ms | Throughput: 24.92 KB/s
  • Average time per file: 14047.33ms
  • Success: 3/3 | Files stored: 3
  • Queue file-ingestion: w=0 a=0 c=198 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Cleaning up 12 agents...
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
  Success: Cleanup completed: 12 successful, 0 failed

Testing 6 Users: 6 files with 6 different users

Testing 6 files of ~10KB each with 6 different users
Creating 6 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 6 agents successfully
Starting concurrent uploads with 6 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 6 successful, 0 failed
Waiting for 6 jobs to complete...
GET /api/jobs/status/201
GET /api/jobs/status/204
GET /api/jobs/status/203
GET /api/jobs/status/200
GET /api/jobs/status/199
GET /api/jobs/status/202
Success: 200 /api/jobs/status/199
Success: 200 /api/jobs/status/200
Success: 200 /api/jobs/status/203
Success: 200 /api/jobs/status/204
Success: 200 /api/jobs/status/202
Success: 200 /api/jobs/status/201
GET /api/jobs/status/199
GET /api/jobs/status/200
GET /api/jobs/status/203
GET /api/jobs/status/204
GET /api/jobs/status/202
GET /api/jobs/status/201
Success: 200 /api/jobs/status/199
POST /api/files/list
Success: 200 /api/jobs/status/200
POST /api/files/list
Success: 200 /api/jobs/status/203
Success: 200 /api/jobs/status/202
Success: 200 /api/jobs/status/201
Success: 200 /api/jobs/status/204
Success: 201 /api/files/list
Success: 201 /api/files/list
GET /api/jobs/status/203
GET /api/jobs/status/202
GET /api/jobs/status/201
GET /api/jobs/status/204
Success: 200 /api/jobs/status/202
POST /api/files/list
Success: 200 /api/jobs/status/201
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/203
Success: 200 /api/jobs/status/204
GET /api/jobs/status/203
GET /api/jobs/status/204
Success: 200 /api/jobs/status/203
POST /api/files/list
Success: 200 /api/jobs/status/204
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 6 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 6

6 Users - 10KB files:
  • Time: 4541ms | Throughput: 13.21 KB/s
  • Average time per file: 756.83ms
  • Success: 6/6 | Files stored: 6
  • Queue file-ingestion: w=0 a=0 c=204 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 6 files of ~75KB each with 6 different users
Creating 6 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 6 agents successfully
Starting concurrent uploads with 6 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 6 successful, 0 failed
Waiting for 6 jobs to complete...
GET /api/jobs/status/208
GET /api/jobs/status/205
GET /api/jobs/status/207
GET /api/jobs/status/209
GET /api/jobs/status/210
GET /api/jobs/status/206
Success: 200 /api/jobs/status/205
Success: 200 /api/jobs/status/208
Success: 200 /api/jobs/status/207
Success: 200 /api/jobs/status/209
Success: 200 /api/jobs/status/206
Success: 200 /api/jobs/status/210
GET /api/jobs/status/205
GET /api/jobs/status/208
GET /api/jobs/status/207
GET /api/jobs/status/209
GET /api/jobs/status/206
GET /api/jobs/status/210
Success: 200 /api/jobs/status/205
POST /api/files/list
Success: 200 /api/jobs/status/206
POST /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/208
Success: 201 /api/files/list
Success: 200 /api/jobs/status/207
Success: 200 /api/jobs/status/210
Success: 200 /api/jobs/status/209
GET /api/jobs/status/208
GET /api/jobs/status/207
GET /api/jobs/status/210
GET /api/jobs/status/209
Success: 200 /api/jobs/status/208
POST /api/files/list
Success: 200 /api/jobs/status/207
POST /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/209
Success: 200 /api/jobs/status/210
Success: 201 /api/files/list
GET /api/jobs/status/209
GET /api/jobs/status/210
Success: 200 /api/jobs/status/209
Success: 200 /api/jobs/status/210
GET /api/jobs/status/209
GET /api/jobs/status/210
Success: 200 /api/jobs/status/209
POST /api/files/list
Success: 200 /api/jobs/status/210
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 6 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 6

6 Users - 75KB files:
  • Time: 30668ms | Throughput: 14.67 KB/s
  • Average time per file: 5111.33ms
  • Success: 6/6 | Files stored: 6
  • Queue file-ingestion: w=0 a=0 c=210 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 6 files of ~150KB each with 6 different users
Creating 6 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 6 agents successfully
Starting concurrent uploads with 6 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 6 successful, 0 failed
Waiting for 6 jobs to complete...
GET /api/jobs/status/215
GET /api/jobs/status/213
GET /api/jobs/status/216
GET /api/jobs/status/212
GET /api/jobs/status/214
GET /api/jobs/status/211
Success: 200 /api/jobs/status/216
Success: 200 /api/jobs/status/215
Success: 200 /api/jobs/status/213
Success: 200 /api/jobs/status/212
Success: 200 /api/jobs/status/211
Success: 200 /api/jobs/status/214
GET /api/jobs/status/216
GET /api/jobs/status/215
GET /api/jobs/status/213
GET /api/jobs/status/212
GET /api/jobs/status/211
GET /api/jobs/status/214
Success: 200 /api/jobs/status/212
POST /api/files/list
Success: 200 /api/jobs/status/211
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/216
Success: 200 /api/jobs/status/215
Success: 200 /api/jobs/status/213
Success: 200 /api/jobs/status/214
GET /api/jobs/status/216
GET /api/jobs/status/215
GET /api/jobs/status/213
GET /api/jobs/status/214
Success: 200 /api/jobs/status/213
POST /api/files/list
Success: 200 /api/jobs/status/214
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/215
Success: 200 /api/jobs/status/216
GET /api/jobs/status/215
GET /api/jobs/status/216
Success: 200 /api/jobs/status/215
POST /api/files/list
Success: 200 /api/jobs/status/216
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 6 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 6

6 Users - 150KB files:
  • Time: 39691ms | Throughput: 22.68 KB/s
  • Average time per file: 6615.17ms
  • Success: 6/6 | Files stored: 6
  • Queue file-ingestion: w=0 a=0 c=216 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 6 files of ~350KB each with 6 different users
Creating 6 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 6 agents successfully
Starting concurrent uploads with 6 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 6 successful, 0 failed
Waiting for 6 jobs to complete...
GET /api/jobs/status/220
GET /api/jobs/status/219
GET /api/jobs/status/221
GET /api/jobs/status/218
GET /api/jobs/status/217
GET /api/jobs/status/222
Success: 200 /api/jobs/status/219
Success: 200 /api/jobs/status/220
Success: 200 /api/jobs/status/221
Success: 200 /api/jobs/status/218
Success: 200 /api/jobs/status/222
Success: 200 /api/jobs/status/217
GET /api/jobs/status/219
GET /api/jobs/status/220
GET /api/jobs/status/221
GET /api/jobs/status/218
GET /api/jobs/status/222
GET /api/jobs/status/217
Success: 200 /api/jobs/status/218
POST /api/files/list
Success: 200 /api/jobs/status/217
POST /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/219
Success: 201 /api/files/list
Success: 200 /api/jobs/status/220
Success: 200 /api/jobs/status/222
Success: 200 /api/jobs/status/221
GET /api/jobs/status/219
GET /api/jobs/status/220
GET /api/jobs/status/222
GET /api/jobs/status/221
Success: 200 /api/jobs/status/219
POST /api/files/list
Success: 200 /api/jobs/status/220
POST /api/files/list
Success: 200 /api/jobs/status/221
Success: 200 /api/jobs/status/222
Success: 201 /api/files/list
Success: 201 /api/files/list
GET /api/jobs/status/221
GET /api/jobs/status/222
Success: 200 /api/jobs/status/221
POST /api/files/list
Success: 200 /api/jobs/status/222
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 6 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 6

6 Users - 350KB files:
  • Time: 82936ms | Throughput: 25.32 KB/s
  • Average time per file: 13822.67ms
  • Success: 6/6 | Files stored: 6
  • Queue file-ingestion: w=0 a=0 c=222 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Cleaning up 24 agents...
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
  Success: Cleanup completed: 24 successful, 0 failed

Testing 9 Users: 9 files with 9 different users

Testing 9 files of ~10KB each with 9 different users
Creating 9 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 9 agents successfully
Starting concurrent uploads with 9 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 9 successful, 0 failed
Waiting for 9 jobs to complete...
GET /api/jobs/status/224
GET /api/jobs/status/225
GET /api/jobs/status/226
GET /api/jobs/status/231
GET /api/jobs/status/229
GET /api/jobs/status/227
GET /api/jobs/status/223
GET /api/jobs/status/228
GET /api/jobs/status/230
Success: 200 /api/jobs/status/224
Success: 200 /api/jobs/status/226
Success: 200 /api/jobs/status/231
Success: 200 /api/jobs/status/229
Success: 200 /api/jobs/status/227
Success: 200 /api/jobs/status/225
Success: 200 /api/jobs/status/223
Success: 200 /api/jobs/status/228
Success: 200 /api/jobs/status/230
GET /api/jobs/status/224
GET /api/jobs/status/226
GET /api/jobs/status/231
GET /api/jobs/status/229
GET /api/jobs/status/227
GET /api/jobs/status/225
GET /api/jobs/status/223
GET /api/jobs/status/228
GET /api/jobs/status/230
Success: 200 /api/jobs/status/224
POST /api/files/list
Success: 200 /api/jobs/status/223
POST /api/files/list
Success: 200 /api/jobs/status/225
Success: 200 /api/jobs/status/226
Success: 200 /api/jobs/status/230
Success: 200 /api/jobs/status/228
Success: 200 /api/jobs/status/229
Success: 200 /api/jobs/status/231
Success: 200 /api/jobs/status/227
Success: 201 /api/files/list
Success: 201 /api/files/list
GET /api/jobs/status/225
GET /api/jobs/status/226
GET /api/jobs/status/230
GET /api/jobs/status/228
GET /api/jobs/status/229
GET /api/jobs/status/231
GET /api/jobs/status/227
Success: 200 /api/jobs/status/226
POST /api/files/list
Success: 200 /api/jobs/status/227
POST /api/files/list
Success: 200 /api/jobs/status/225
POST /api/files/list
Success: 200 /api/jobs/status/228
Success: 200 /api/jobs/status/229
Success: 200 /api/jobs/status/230
Success: 200 /api/jobs/status/231
Success: 201 /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
GET /api/jobs/status/228
GET /api/jobs/status/229
GET /api/jobs/status/230
GET /api/jobs/status/231
Success: 200 /api/jobs/status/228
POST /api/files/list
Success: 200 /api/jobs/status/229
POST /api/files/list
Success: 200 /api/jobs/status/230
Success: 200 /api/jobs/status/231
Success: 201 /api/files/list
Success: 201 /api/files/list
GET /api/jobs/status/230
GET /api/jobs/status/231
Success: 200 /api/jobs/status/230
POST /api/files/list
Success: 200 /api/jobs/status/231
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 9 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 9

9 Users - 10KB files:
  • Time: 6818ms | Throughput: 13.20 KB/s
  • Average time per file: 757.56ms
  • Success: 9/9 | Files stored: 9
  • Queue file-ingestion: w=0 a=0 c=231 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 9 files of ~75KB each with 9 different users
Creating 9 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 9 agents successfully
Starting concurrent uploads with 9 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 9 successful, 0 failed
Waiting for 9 jobs to complete...
GET /api/jobs/status/237
GET /api/jobs/status/233
GET /api/jobs/status/238
GET /api/jobs/status/235
GET /api/jobs/status/232
GET /api/jobs/status/236
GET /api/jobs/status/239
GET /api/jobs/status/234
GET /api/jobs/status/240
Success: 200 /api/jobs/status/233
Success: 200 /api/jobs/status/232
Success: 200 /api/jobs/status/235
Success: 200 /api/jobs/status/238
Success: 200 /api/jobs/status/237
Success: 200 /api/jobs/status/234
Success: 200 /api/jobs/status/236
Success: 200 /api/jobs/status/239
Success: 200 /api/jobs/status/240
GET /api/jobs/status/233
GET /api/jobs/status/232
GET /api/jobs/status/235
GET /api/jobs/status/238
GET /api/jobs/status/237
GET /api/jobs/status/234
GET /api/jobs/status/236
GET /api/jobs/status/239
GET /api/jobs/status/240
Success: 200 /api/jobs/status/233
POST /api/files/list
Success: 200 /api/jobs/status/232
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/235
Success: 200 /api/jobs/status/237
Success: 200 /api/jobs/status/238
Success: 200 /api/jobs/status/236
Success: 200 /api/jobs/status/234
Success: 200 /api/jobs/status/239
Success: 200 /api/jobs/status/240
GET /api/jobs/status/235
GET /api/jobs/status/237
GET /api/jobs/status/238
GET /api/jobs/status/236
GET /api/jobs/status/234
GET /api/jobs/status/239
GET /api/jobs/status/240
Success: 200 /api/jobs/status/235
POST /api/files/list
Success: 200 /api/jobs/status/234
POST /api/files/list
Success: 200 /api/jobs/status/237
Success: 200 /api/jobs/status/236
Success: 200 /api/jobs/status/239
Success: 200 /api/jobs/status/240
Success: 200 /api/jobs/status/238
Success: 201 /api/files/list
Success: 201 /api/files/list
GET /api/jobs/status/237
GET /api/jobs/status/236
GET /api/jobs/status/239
GET /api/jobs/status/240
GET /api/jobs/status/238
Success: 200 /api/jobs/status/237
POST /api/files/list
Success: 200 /api/jobs/status/236
POST /api/files/list
Success: 200 /api/jobs/status/238
Success: 200 /api/jobs/status/240
Success: 200 /api/jobs/status/239
Success: 201 /api/files/list
Success: 201 /api/files/list
GET /api/jobs/status/238
GET /api/jobs/status/240
GET /api/jobs/status/239
Success: 200 /api/jobs/status/238
POST /api/files/list
Success: 200 /api/jobs/status/239
POST /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/240
Success: 201 /api/files/list
GET /api/jobs/status/240
Success: 200 /api/jobs/status/240
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 9 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 9

9 Users - 75KB files:
  • Time: 46675ms | Throughput: 14.46 KB/s
  • Average time per file: 5186.11ms
  • Success: 9/9 | Files stored: 9
  • Queue file-ingestion: w=0 a=0 c=240 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 9 files of ~150KB each with 9 different users
Creating 9 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 9 agents successfully
Starting concurrent uploads with 9 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 9 successful, 0 failed
Waiting for 9 jobs to complete...
GET /api/jobs/status/248
GET /api/jobs/status/247
GET /api/jobs/status/242
GET /api/jobs/status/243
GET /api/jobs/status/245
GET /api/jobs/status/246
GET /api/jobs/status/241
GET /api/jobs/status/244
GET /api/jobs/status/249
Success: 200 /api/jobs/status/242
Success: 200 /api/jobs/status/241
Success: 200 /api/jobs/status/247
Success: 200 /api/jobs/status/246
Success: 200 /api/jobs/status/245
Success: 200 /api/jobs/status/243
Success: 200 /api/jobs/status/248
Success: 200 /api/jobs/status/249
Success: 200 /api/jobs/status/244
GET /api/jobs/status/242
GET /api/jobs/status/241
GET /api/jobs/status/247
GET /api/jobs/status/246
GET /api/jobs/status/245
GET /api/jobs/status/243
GET /api/jobs/status/248
GET /api/jobs/status/249
GET /api/jobs/status/244
Success: 200 /api/jobs/status/242
POST /api/files/list
Success: 200 /api/jobs/status/241
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/244
Success: 200 /api/jobs/status/243
Success: 200 /api/jobs/status/249
Success: 200 /api/jobs/status/247
Success: 200 /api/jobs/status/246
Success: 200 /api/jobs/status/248
Success: 200 /api/jobs/status/245
GET /api/jobs/status/244
GET /api/jobs/status/243
GET /api/jobs/status/249
GET /api/jobs/status/247
GET /api/jobs/status/246
GET /api/jobs/status/248
GET /api/jobs/status/245
Success: 200 /api/jobs/status/244
POST /api/files/list
Success: 200 /api/jobs/status/243
POST /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/245
Success: 200 /api/jobs/status/246
Success: 200 /api/jobs/status/248
Success: 200 /api/jobs/status/247
Success: 200 /api/jobs/status/249
Success: 201 /api/files/list
GET /api/jobs/status/245
GET /api/jobs/status/246
GET /api/jobs/status/248
GET /api/jobs/status/247
GET /api/jobs/status/249
Success: 200 /api/jobs/status/245
POST /api/files/list
Success: 200 /api/jobs/status/246
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/248
Success: 200 /api/jobs/status/247
Success: 200 /api/jobs/status/249
GET /api/jobs/status/248
GET /api/jobs/status/247
GET /api/jobs/status/249
Success: 200 /api/jobs/status/248
POST /api/files/list
Success: 200 /api/jobs/status/247
POST /api/files/list
Success: 200 /api/jobs/status/249
Success: 201 /api/files/list
Success: 201 /api/files/list
GET /api/jobs/status/249
Success: 200 /api/jobs/status/249
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 9 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 9

9 Users - 150KB files:
  • Time: 57461ms | Throughput: 23.49 KB/s
  • Average time per file: 6384.56ms
  • Success: 9/9 | Files stored: 9
  • Queue file-ingestion: w=0 a=0 c=249 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Testing 9 files of ~350KB each with 9 different users
Creating 9 users and agents...
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
POST /api/agents/init_agent
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 201 /api/agents/init_agent
GET /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
Success: 200 /api/agents/get_agents
  Success: Created 9 agents successfully
Starting concurrent uploads with 9 users...
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
POST /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
Success: 201 /api/files/upload
  Success: Uploads completed: 9 successful, 0 failed
Waiting for 9 jobs to complete...
GET /api/jobs/status/257
GET /api/jobs/status/252
GET /api/jobs/status/255
GET /api/jobs/status/251
GET /api/jobs/status/250
GET /api/jobs/status/258
GET /api/jobs/status/256
GET /api/jobs/status/253
GET /api/jobs/status/254
Success: 200 /api/jobs/status/251
Success: 200 /api/jobs/status/250
Success: 200 /api/jobs/status/255
Success: 200 /api/jobs/status/257
Success: 200 /api/jobs/status/252
Success: 200 /api/jobs/status/253
Success: 200 /api/jobs/status/258
Success: 200 /api/jobs/status/254
Success: 200 /api/jobs/status/256
GET /api/jobs/status/251
GET /api/jobs/status/250
GET /api/jobs/status/255
GET /api/jobs/status/257
GET /api/jobs/status/252
GET /api/jobs/status/253
GET /api/jobs/status/258
GET /api/jobs/status/254
GET /api/jobs/status/256
Success: 200 /api/jobs/status/251
POST /api/files/list
Success: 200 /api/jobs/status/250
POST /api/files/list
Success: 201 /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/255
Success: 200 /api/jobs/status/252
Success: 200 /api/jobs/status/253
Success: 200 /api/jobs/status/254
Success: 200 /api/jobs/status/256
Success: 200 /api/jobs/status/257
Success: 200 /api/jobs/status/258
GET /api/jobs/status/255
GET /api/jobs/status/252
GET /api/jobs/status/253
GET /api/jobs/status/254
GET /api/jobs/status/256
GET /api/jobs/status/257
GET /api/jobs/status/258
Success: 200 /api/jobs/status/252
POST /api/files/list
Success: 200 /api/jobs/status/253
POST /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/255
Success: 201 /api/files/list
Success: 200 /api/jobs/status/254
Success: 200 /api/jobs/status/256
Success: 200 /api/jobs/status/258
Success: 200 /api/jobs/status/257
GET /api/jobs/status/255
GET /api/jobs/status/254
GET /api/jobs/status/256
GET /api/jobs/status/258
GET /api/jobs/status/257
Success: 200 /api/jobs/status/255
POST /api/files/list
Success: 200 /api/jobs/status/254
POST /api/files/list
Success: 201 /api/files/list
Success: 200 /api/jobs/status/256
Success: 201 /api/files/list
Success: 200 /api/jobs/status/257
Success: 200 /api/jobs/status/258
GET /api/jobs/status/256
GET /api/jobs/status/257
GET /api/jobs/status/258
Success: 200 /api/jobs/status/256
POST /api/files/list
Success: 200 /api/jobs/status/257
POST /api/files/list
Success: 200 /api/jobs/status/258
Success: 201 /api/files/list
Success: 201 /api/files/list
GET /api/jobs/status/258
Success: 200 /api/jobs/status/258
POST /api/files/list
Success: 201 /api/files/list
  Success: Jobs completed: 9 successful, 0 failed, 0 timed out
GET /api/jobs/queues/metrics
Success: 200 /api/jobs/queues/metrics

Verifying file storage...
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
POST /api/files/list
Success: 201 /api/files/list
  Success: Total files stored: 9

9 Users - 350KB files:
  • Time: 127621ms | Throughput: 24.68 KB/s
  • Average time per file: 14180.11ms
  • Success: 9/9 | Files stored: 9
  • Queue file-ingestion: w=0 a=0 c=258 f=0
  • Queue embeddings: w=0 a=0 c=0 f=0

Cleaning up 36 agents...
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
POST /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
Success: 201 /api/agents/delete_agent
  Success: Cleanup completed: 36 successful, 0 failed

Overall Test Summary:
==================================================
PASS 1 User - 10KB files
  Duration: 1120ms, Throughput: 8.93 KB/s
PASS 1 User - 75KB files
  Duration: 5032ms, Throughput: 14.90 KB/s
PASS 1 User - 150KB files
  Duration: 6206ms, Throughput: 24.17 KB/s
PASS 1 User - 350KB files
  Duration: 13831ms, Throughput: 25.31 KB/s
PASS 3 Users - 10KB files
  Duration: 2715ms, Throughput: 11.05 KB/s
PASS 3 Users - 75KB files
  Duration: 15237ms, Throughput: 14.77 KB/s
PASS 3 Users - 150KB files
  Duration: 18983ms, Throughput: 23.71 KB/s
PASS 3 Users - 350KB files
  Duration: 42142ms, Throughput: 24.92 KB/s
PASS 6 Users - 10KB files
  Duration: 4541ms, Throughput: 13.21 KB/s
PASS 6 Users - 75KB files
  Duration: 30668ms, Throughput: 14.67 KB/s
PASS 6 Users - 150KB files
  Duration: 39691ms, Throughput: 22.68 KB/s
PASS 6 Users - 350KB files
  Duration: 82936ms, Throughput: 25.32 KB/s
PASS 9 Users - 10KB files
  Duration: 6818ms, Throughput: 13.20 KB/s
PASS 9 Users - 75KB files
  Duration: 46675ms, Throughput: 14.46 KB/s
PASS 9 Users - 150KB files
  Duration: 57461ms, Throughput: 23.49 KB/s
PASS 9 Users - 350KB files
  Duration: 127621ms, Throughput: 24.68 KB/s

Final Statistics:
  • Tests passed: 16/16
  • Average throughput: 18.72 KB/s
  • Total jobs created: 76
  • Total jobs successful: 76

Test Summary

Passed: 1
Failed: 0
Total Duration: 27ms
Success Rate: 100.0%

All tests completed!

